<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.9.1 from src/site/asciidoc/rip/rip-background.adoc at 2024-03-20
 | Rendered using Apache Maven Fluido Skin 1.7
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20240320" />
    <meta http-equiv="Content-Language" content="en" />
    <title>pcond &#x2013; </title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.7.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />
    <script type="text/javascript" src="../js/apache-maven-fluido-1.7.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><div id="bannerLeft"><h2>pcond</h2>
</div>
</div>
        <div class="pull-right"></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2024-03-20<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 4.0.0-beta-14</li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
    <ul class="nav nav-list">
      <li class="nav-header">Documents</li>
    <li><a href="../what-is-pcond.html" title="What is pcond"><span class="none"></span>What is pcond</a></li>
      <li class="nav-header">Project Documentation</li>
    <li><a href="../project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="../project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a></li>
</ul>
          <hr />
          <div id="poweredBy">
            <div class="clear"></div>
            <div class="clear"></div>
            <div class="clear"></div>
            <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >
<div class="paragraph">
<p>One of Java&#8217;s weak points is its lack of capability to introspect lambdas.
If you print out lambda, what you will see is something like:</p>
</div>
<div id="PrintedLambda" class="listingblock">
<div class="title">Printed Lambda</div>
<div class="content">
<pre>com.github.your.package.YourClass$$Lambda$1/1867083167@b4c966a</pre>
</div>
</div>
<div class="paragraph">
<p>This makes it not possible to implement an assertion library like power-assert<a href="#power-assert">[power-assert]</a>, which prints an error message as follows:<sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup></a> to implement it using instrumentation mechanism of Java. However the project is not actively developed and the binary is not distributed in publicly available nexus repository as of writing].</p>
</div>
<div id="PowerAssertExample" class="listingblock">
<div class="title">power-assert example</div>
<div class="content">
<pre>  1) Array #indexOf() should return index when the value is present:
     AssertionError: # path/to/test/mocha_node.js:10

  assert(ary.indexOf(zero) === two)
         |   |       |     |   |
         |   |       |     |   2
         |   -1      0     false
         [1,2,3]

  [number] two
  =&gt; 2
  [number] ary.indexOf(zero)
  =&gt; -1</pre>
</div>
</div>
<div class="paragraph">
<p>Instead, several assertion libraries have been developed and published in Java, such as Hamcrest<a href="#hamcrest">[hamcrest]</a>, AssertJ<a href="#assertj">[assertj]</a>, and Google Truth<a href="#google-truth">[google-truth]</a>.
Although an assertion is in the end an expression, which results in a boolean value, existing assertion libraries do not rely on <code>java.util.Predicate</code>.
This is because:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Historically, Java SE8 was not available or not popular at the point of time those assertion libraries were initially developed.</p>
</li>
<li>
<p>It is difficult (or almost not possible) for Java programs to access internal processes of an evaluation of a <code>Predicate</code>. Therefore</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For product side&#8217;s development, there is a methodology called Design by Contract<a href="#DbCbyExample">[DbCbyExample]</a>.
In DbC, the relationship between software components (such as classes, modules, or functions) are treated as formal agreements, just like legal contracts between parties.
Such agreements are represented as preconditions, post-conditions, or invariants.
When such an agreement is broken, in what way it is broken needs to be examined closely in order to figure out how it should be fixed.
If the agreement is only printed shown as <a href="#PrintedLambda">Printed Lambda</a>, you will need to first find a line of the code and then look into what value is given to which term in the agreement, and in what boolean value the term resulted.
If the issue is hard to reproduce it or you cannot use a debugger, this will be an error prone manual process.
Valid4J<a href="#valid4j">[valid4j]</a> is a library created for addressing this pain<sup class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnotedef_2" title="View footnote.">2</a>]</sup>.
It utilizes matchers of Hamcrest to allow users to define agreements.</p>
</div>
<div id="footnotes">
<hr/>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. There is an attempt called "power-assert-java"<a href="#power-asset-java">[power-asset-java
</div>
<div class="footnote" id="_footnotedef_2">
<a href="#_footnoteref_2">2</a>. Note that at the time valid4j was developed, Java 8, where lambdas became available, was not popular
</div>
</div>
        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &copy;2024.
All rights reserved.</p>
        </div>
      </div>
    </footer>
  </body>
</html>
